:- #sum{S_IP1,1: vS_P1(D, I, S_IP1)} != P_I - Q_I + CREG_IM - CREG_IP, vCREG_MINUS(D, I, CREG_IM), vCREG_PLUS(D, I, CREG_IP), vQ(D, I, Q_I), vP(D, I, P_I).
